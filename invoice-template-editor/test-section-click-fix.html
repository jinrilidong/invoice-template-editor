<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Section Click Fix Test</title>
    <style>
      body {
        font-family: Arial, sans-serif;
        margin: 20px;
        background-color: #f5f5f5;
      }
      .test-container {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        margin-bottom: 20px;
      }
      .test-title {
        font-size: 18px;
        font-weight: bold;
        color: #333;
        margin-bottom: 10px;
      }
      .test-description {
        font-size: 14px;
        color: #666;
        margin-bottom: 15px;
      }
      .test-steps {
        background: #f8f9fa;
        padding: 15px;
        border-radius: 4px;
        border-left: 4px solid #007bff;
      }
      .test-steps ol {
        margin: 0;
        padding-left: 20px;
      }
      .test-steps li {
        margin-bottom: 8px;
        line-height: 1.4;
      }
      .expected-result {
        background: #d4edda;
        padding: 10px;
        border-radius: 4px;
        border-left: 4px solid #28a745;
        margin-top: 15px;
      }
      .expected-result strong {
        color: #155724;
      }
      .fix-summary {
        background: #fff3cd;
        padding: 15px;
        border-radius: 4px;
        border-left: 4px solid #ffc107;
        margin-top: 15px;
      }
      .fix-summary strong {
        color: #856404;
      }
    </style>
  </head>
  <body>
    <div class="test-container">
      <div class="test-title">ğŸ”§ Sectionç‚¹å‡»äº‹ä»¶ä¿®å¤æµ‹è¯•</div>
      <div class="test-description">
        æ­¤æµ‹è¯•ç”¨äºéªŒè¯ä¿®å¤åçš„sectionç‚¹å‡»åŠŸèƒ½æ˜¯å¦èƒ½æ­£ç¡®ä¼ é€’äº‹ä»¶åˆ°PDF Styleé¢æ¿ã€‚
      </div>

      <div class="test-steps">
        <strong>ä¿®å¤å†…å®¹ï¼š</strong>
        <ol>
          <li>
            <strong>äº‹ä»¶åç§°ç»Ÿä¸€</strong>:
            å°†PdfPaginationPreviewä¸­çš„äº‹ä»¶ä»<code>sectionSelect</code>æ”¹ä¸º<code
              >section-select</code
            >
          </li>
          <li>
            <strong>äº‹ä»¶ç»‘å®š</strong>:
            ä¸ºPdfCompatibleRendereræ·»åŠ <code>@section-select="handleSectionClick"</code>äº‹ä»¶ç»‘å®š
          </li>
          <li><strong>äº‹ä»¶å¤„ç†å‡½æ•°</strong>: æ·»åŠ <code>handleSectionClick</code>å‡½æ•°æ¥è½¬å‘äº‹ä»¶</li>
          <li>
            <strong>ç±»å‹ä¿®å¤</strong>: ä¿®å¤TypeScriptç±»å‹é”™è¯¯ï¼Œæ”¯æŒ<code>string | null</code>ç±»å‹
          </li>
        </ol>
      </div>

      <div class="fix-summary">
        <strong>ä¿®å¤çš„é—®é¢˜ï¼š</strong><br />
        âŒ <strong>é—®é¢˜</strong>:
        PdfPaginationPreviewå‘å‡º<code>sectionSelect</code>äº‹ä»¶ï¼Œä½†App.vueç›‘å¬<code
          >@section-select</code
        ><br />
        âœ… <strong>ä¿®å¤</strong>: ç»Ÿä¸€äº‹ä»¶åç§°ä¸º<code>section-select</code><br /><br />

        âŒ <strong>é—®é¢˜</strong>: PdfCompatibleRendererçš„ç‚¹å‡»äº‹ä»¶æ²¡æœ‰ä¼ é€’åˆ°PdfPaginationPreview<br />
        âœ… <strong>ä¿®å¤</strong>: æ·»åŠ <code>@section-select="handleSectionClick"</code>äº‹ä»¶ç»‘å®š<br /><br />

        âŒ <strong>é—®é¢˜</strong>: TypeScriptç±»å‹é”™è¯¯ï¼Œå‚æ•°ç±»å‹ä¸åŒ¹é…<br />
        âœ… <strong>ä¿®å¤</strong>: æ›´æ–°å‡½æ•°ç­¾åæ”¯æŒ<code>string | null</code>ç±»å‹
      </div>

      <div class="test-steps">
        <strong>æµ‹è¯•æ­¥éª¤ï¼š</strong>
        <ol>
          <li>æ‰“å¼€åº”ç”¨ï¼š<code>http://localhost:5173</code></li>
          <li>ç‚¹å‡»"PDF Style"æ ‡ç­¾é¡µ</li>
          <li>åœ¨PDFé¢„è§ˆä¸­ç‚¹å‡»ä¸åŒçš„sectionï¼š</li>
          <ul>
            <li><strong>ç‚¹å‡»Header section</strong> â†’ åº”æ˜¾ç¤ºHeaderæ ·å¼å‚æ•°</li>
            <li><strong>ç‚¹å‡»Info section</strong> â†’ åº”æ˜¾ç¤ºInfoæ ·å¼å‚æ•°</li>
            <li><strong>ç‚¹å‡»Table section</strong> â†’ åº”æ˜¾ç¤ºTableæ ·å¼å‚æ•°</li>
            <li><strong>ç‚¹å‡»Description section</strong> â†’ åº”æ˜¾ç¤ºDescriptionæ ·å¼å‚æ•°</li>
            <li><strong>ç‚¹å‡»Item section</strong> â†’ åº”æ˜¾ç¤ºItemæ ·å¼å‚æ•°</li>
            <li><strong>ç‚¹å‡»Footer section</strong> â†’ åº”æ˜¾ç¤ºFooteræ ·å¼å‚æ•°</li>
          </ul>
          <li>ç‚¹å‡»PDFé¢„è§ˆçš„ç©ºç™½åŒºåŸŸ â†’ åº”æ˜¾ç¤ºå…¨å±€æ ·å¼å‚æ•°</li>
          <li>è°ƒæ•´æ ·å¼å‚æ•°ï¼Œè§‚å¯Ÿé¢„è§ˆæ˜¯å¦å®æ—¶æ›´æ–°</li>
        </ol>
      </div>

      <div class="expected-result">
        <strong>é¢„æœŸç»“æœï¼š</strong><br />
        âœ… ç‚¹å‡»ä»»ä½•sectionæ—¶ï¼Œé¼ æ ‡æ‚¬åœåº”æœ‰è“è‰²é«˜äº®æ•ˆæœ<br />
        âœ… ç‚¹å‡»sectionåï¼Œå³ä¾§PDF Styleé¢æ¿åº”åˆ‡æ¢åˆ°å¯¹åº”çš„æ ·å¼å‚æ•°<br />
        âœ… æ¯ä¸ªsectionçš„æ ·å¼å‚æ•°åº”æ­£ç¡®æ˜¾ç¤ºï¼ˆé¢œè‰²ã€å­—ä½“å¤§å°ã€é—´è·ç­‰ï¼‰<br />
        âœ… è°ƒæ•´æ ·å¼å‚æ•°æ—¶ï¼Œé¢„è§ˆåº”å®æ—¶æ›´æ–°<br />
        âœ… ç‚¹å‡»ç©ºç™½åŒºåŸŸåº”å–æ¶ˆé€‰æ‹©ï¼Œæ˜¾ç¤ºå…¨å±€æ ·å¼å‚æ•°<br />
        âœ… æ‰€æœ‰äº¤äº’åº”æµç•…ï¼Œæ— å¡é¡¿æˆ–é”™è¯¯<br />
        âœ… æµè§ˆå™¨æ§åˆ¶å°ä¸åº”æœ‰JavaScripté”™è¯¯
      </div>
    </div>

    <div class="test-container">
      <div class="test-title">ğŸ” è°ƒè¯•ä¿¡æ¯</div>
      <div class="test-description">å¦‚æœåŠŸèƒ½ä»ç„¶ä¸æ­£å¸¸ï¼Œè¯·æ£€æŸ¥ä»¥ä¸‹è°ƒè¯•ä¿¡æ¯ï¼š</div>

      <div class="test-steps">
        <strong>è°ƒè¯•æ­¥éª¤ï¼š</strong>
        <ol>
          <li>æ‰“å¼€æµè§ˆå™¨å¼€å‘è€…å·¥å…· (F12)</li>
          <li>åˆ‡æ¢åˆ°Consoleæ ‡ç­¾é¡µ</li>
          <li>ç‚¹å‡»PDFé¢„è§ˆä¸­çš„section</li>
          <li>
            æŸ¥çœ‹æ˜¯å¦æœ‰ä»¥ä¸‹æ—¥å¿—è¾“å‡ºï¼š
            <pre><code>Section clicked: header-section
App.vue: selectedSection updated: header-section</code></pre>
          </li>
          <li>æ£€æŸ¥Networkæ ‡ç­¾é¡µï¼Œç¡®è®¤æ²¡æœ‰404æˆ–500é”™è¯¯</li>
          <li>æ£€æŸ¥Vue DevToolsï¼Œç¡®è®¤selectedSectionçŠ¶æ€æ­£ç¡®æ›´æ–°</li>
          <li>æ£€æŸ¥PdfStylePanelçš„props.selectedSectionæ˜¯å¦æ­£ç¡®æ¥æ”¶</li>
        </ol>
      </div>
    </div>

    <script>
      // è‡ªåŠ¨è·³è½¬åˆ°åº”ç”¨
      setTimeout(() => {
        if (confirm('æ˜¯å¦è¦è·³è½¬åˆ°åº”ç”¨è¿›è¡Œæµ‹è¯•ï¼Ÿ')) {
          window.open('http://localhost:5173', '_blank')
        }
      }, 2000)
    </script>
  </body>
</html>
