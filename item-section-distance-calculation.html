<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Item Section距离分页线测算</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            line-height: 1.6;
        }
        .analysis-container {
            max-width: 900px;
            margin: 0 auto;
        }
        .section {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
        .section-title {
            font-weight: bold;
            color: #333;
            margin-bottom: 10px;
        }
        .calculation-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        .calculation-value {
            font-weight: bold;
            color: #2563eb;
        }
        .calculation-box {
            background-color: #fef3c7;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .scenario-box {
            background-color: #e0f2fe;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #0288d1;
        }
        .result-box {
            background-color: #d4edda;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
            border-left: 4px solid #28a745;
        }
        .table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        .table th, .table td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        .table th {
            background-color: #f5f5f5;
            font-weight: bold;
        }
        .highlight {
            background-color: #fef3c7;
            padding: 2px 4px;
            border-radius: 3px;
        }
    </style>
</head>
<body>
    <div class="analysis-container">
        <h1>Item Section距离分页线测算</h1>
        
        <div class="section">
            <div class="section-title">📐 基础参数设定</div>
            
            <div class="calculation-box">
                <h4>固定参数：</h4>
                <ul>
                    <li><strong>内容区域总高度:</strong> 723px</li>
                    <li><strong>分页线位置:</strong> 713px (723px - 10px底边距)</li>
                    <li><strong>Footer高度:</strong> 9px</li>
                    <li><strong>底边距要求:</strong> 10px</li>
                </ul>
                
                <h4>各Section固定高度：</h4>
                <ul>
                    <li><strong>Header Section:</strong> 48px</li>
                    <li><strong>Info Section:</strong> 60px (3个items × 20px)</li>
                    <li><strong>Table Section:</strong> 117px (40px表头 + 5行 × 15px + 2px内部间距)</li>
                    <li><strong>Summary Section:</strong> 17px (Total USD)</li>
                    <li><strong>Description Section:</strong> 60px (250字符 ÷ 100 × 20px)</li>
                </ul>
                
                <h4>Gap间距：</h4>
                <ul>
                    <li><strong>Header → Info:</strong> 10px</li>
                    <li><strong>Info → Table:</strong> 10px</li>
                    <li><strong>Summary → Description:</strong> 10px</li>
                    <li><strong>Description → Item:</strong> 10px</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <div class="section-title">🧮 情况1：1个item group</div>
            
            <div class="scenario-box">
                <h4>Item Section高度计算：</h4>
                <ul>
                    <li><strong>1个item group:</strong> 1 × 20px = 20px</li>
                    <li><strong>内部间距:</strong> 2px (section title与items之间)</li>
                    <li><strong>Item Section总高度:</strong> 20px + 2px = 22px</li>
                </ul>
            </div>
            
            <div class="calculation-box">
                <h4>Item Section底部位置计算：</h4>
                <div class="calculation-item">
                    <span>Header Section:</span>
                    <span class="calculation-value">48px</span>
                </div>
                <div class="calculation-item">
                    <span>Header → Info Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Info Section:</span>
                    <span class="calculation-value">60px</span>
                </div>
                <div class="calculation-item">
                    <span>Info → Table Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Table Section:</span>
                    <span class="calculation-value">117px</span>
                </div>
                <div class="calculation-item">
                    <span>Summary Section:</span>
                    <span class="calculation-value">17px</span>
                </div>
                <div class="calculation-item">
                    <span>Summary → Description Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Description Section:</span>
                    <span class="calculation-value">60px</span>
                </div>
                <div class="calculation-item">
                    <span>Description → Item Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Item Section (1个item):</span>
                    <span class="calculation-value">22px</span>
                </div>
                <div class="calculation-item">
                    <span><strong>Item Section底部位置:</strong></span>
                    <span class="calculation-value"><strong>48 + 10 + 60 + 10 + 117 + 17 + 10 + 60 + 10 + 22 = 364px</strong></span>
                </div>
            </div>
            
            <div class="result-box">
                <h4>情况1结果：</h4>
                <div class="calculation-item">
                    <span>分页线位置:</span>
                    <span class="calculation-value">713px</span>
                </div>
                <div class="calculation-item">
                    <span>Item Section底部位置:</span>
                    <span class="calculation-value">364px</span>
                </div>
                <div class="calculation-item">
                    <span><strong>Item Section距离分页线的距离:</strong></span>
                    <span class="calculation-value"><strong>713 - 364 = 349px</strong></span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">🧮 情况2：5个item groups</div>
            
            <div class="scenario-box">
                <h4>Item Section高度计算：</h4>
                <ul>
                    <li><strong>5个item groups:</strong> 5 × 20px = 100px</li>
                    <li><strong>内部间距:</strong> 2px (section title与items之间)</li>
                    <li><strong>Item Section总高度:</strong> 100px + 2px = 102px</li>
                </ul>
            </div>
            
            <div class="calculation-box">
                <h4>Item Section底部位置计算：</h4>
                <div class="calculation-item">
                    <span>Header Section:</span>
                    <span class="calculation-value">48px</span>
                </div>
                <div class="calculation-item">
                    <span>Header → Info Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Info Section:</span>
                    <span class="calculation-value">60px</span>
                </div>
                <div class="calculation-item">
                    <span>Info → Table Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Table Section:</span>
                    <span class="calculation-value">117px</span>
                </div>
                <div class="calculation-item">
                    <span>Summary Section:</span>
                    <span class="calculation-value">17px</span>
                </div>
                <div class="calculation-item">
                    <span>Summary → Description Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Description Section:</span>
                    <span class="calculation-value">60px</span>
                </div>
                <div class="calculation-item">
                    <span>Description → Item Gap:</span>
                    <span class="calculation-value">10px</span>
                </div>
                <div class="calculation-item">
                    <span>Item Section (5个items):</span>
                    <span class="calculation-value">102px</span>
                </div>
                <div class="calculation-item">
                    <span><strong>Item Section底部位置:</strong></span>
                    <span class="calculation-value"><strong>48 + 10 + 60 + 10 + 117 + 17 + 10 + 60 + 10 + 102 = 444px</strong></span>
                </div>
            </div>
            
            <div class="result-box">
                <h4>情况2结果：</h4>
                <div class="calculation-item">
                    <span>分页线位置:</span>
                    <span class="calculation-value">713px</span>
                </div>
                <div class="calculation-item">
                    <span>Item Section底部位置:</span>
                    <span class="calculation-value">444px</span>
                </div>
                <div class="calculation-item">
                    <span><strong>Item Section距离分页线的距离:</strong></span>
                    <span class="calculation-value"><strong>713 - 444 = 269px</strong></span>
                </div>
            </div>
        </div>

        <div class="section">
            <div class="section-title">📊 对比分析</div>
            
            <table class="table">
                <tr>
                    <th>情况</th>
                    <th>Item数量</th>
                    <th>Item Section高度</th>
                    <th>Item Section底部位置</th>
                    <th>距离分页线</th>
                    <th>剩余空间</th>
                </tr>
                <tr>
                    <td><strong>情况1</strong></td>
                    <td>1个item</td>
                    <td>22px</td>
                    <td>364px</td>
                    <td><strong>349px</strong></td>
                    <td>48.9%</td>
                </tr>
                <tr>
                    <td><strong>情况2</strong></td>
                    <td>5个items</td>
                    <td>102px</td>
                    <td>444px</td>
                    <td><strong>269px</strong></td>
                    <td>37.7%</td>
                </tr>
            </table>
            
            <div class="calculation-box">
                <h4>关键发现：</h4>
                <ul>
                    <li><strong>情况1 (1个item):</strong> 距离分页线349px，剩余空间充足</li>
                    <li><strong>情况2 (5个items):</strong> 距离分页线269px，剩余空间减少80px</li>
                    <li><strong>高度差异:</strong> 5个items比1个item多占用80px (102px - 22px)</li>
                    <li><strong>距离差异:</strong> 情况2比情况1距离分页线近80px (349px - 269px)</li>
                    <li><strong>分页风险:</strong> 两种情况都远低于分页线，不会触发分页</li>
                </ul>
            </div>
        </div>

        <div class="section">
            <div class="section-title">🎯 分页触发条件分析</div>
            
            <div class="calculation-box">
                <h4>分页触发条件：</h4>
                <ul>
                    <li><strong>分页线位置:</strong> 713px</li>
                    <li><strong>触发条件:</strong> 当Item Section底部位置 > 713px时</li>
                    <li><strong>当前状态:</strong> 两种情况都远低于分页线</li>
                </ul>
                
                <h4>理论最大Item数量：</h4>
                <ul>
                    <li><strong>可用空间:</strong> 713px - 364px (固定内容) = 349px</li>
                    <li><strong>每个item占用:</strong> 20px + 2px内部间距 = 22px</li>
                    <li><strong>理论最大items:</strong> 349px ÷ 22px ≈ 15个items</li>
                    <li><strong>实际建议:</strong> 考虑安全边距，建议不超过12个items</li>
                </ul>
            </div>
        </div>
    </div>
</body>
</html>









